/* Branch.c generated by valac 0.40.4, the Vala compiler
 * generated from Branch.vala, do not modify */

/* Copyright 2016 Software Freedom Conservancy Inc.
 *
 * This software is licensed under the GNU Lesser General Public License
 * (version 2.1 or later).  See the COPYING file in this distribution.
 */


#include <glib.h>
#include <glib-object.h>
#include <stdlib.h>
#include <string.h>
#include <gtk/gtk.h>
#include <gee.h>
#include <gobject/gvaluecollector.h>


#define SIDEBAR_TYPE_BRANCH (sidebar_branch_get_type ())
#define SIDEBAR_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_BRANCH, SidebarBranch))
#define SIDEBAR_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TYPE_BRANCH, SidebarBranchClass))
#define SIDEBAR_IS_BRANCH(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_BRANCH))
#define SIDEBAR_IS_BRANCH_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TYPE_BRANCH))
#define SIDEBAR_BRANCH_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TYPE_BRANCH, SidebarBranchClass))

typedef struct _SidebarBranch SidebarBranch;
typedef struct _SidebarBranchClass SidebarBranchClass;
typedef struct _SidebarBranchPrivate SidebarBranchPrivate;

#define SIDEBAR_BRANCH_TYPE_NODE (sidebar_branch_node_get_type ())
#define SIDEBAR_BRANCH_NODE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_BRANCH_TYPE_NODE, SidebarBranchNode))
#define SIDEBAR_BRANCH_NODE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_BRANCH_TYPE_NODE, SidebarBranchNodeClass))
#define SIDEBAR_BRANCH_IS_NODE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_BRANCH_TYPE_NODE))
#define SIDEBAR_BRANCH_IS_NODE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_BRANCH_TYPE_NODE))
#define SIDEBAR_BRANCH_NODE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_BRANCH_TYPE_NODE, SidebarBranchNodeClass))

typedef struct _SidebarBranchNode SidebarBranchNode;
typedef struct _SidebarBranchNodeClass SidebarBranchNodeClass;

#define SIDEBAR_BRANCH_TYPE_OPTIONS (sidebar_branch_options_get_type ())

#define SIDEBAR_TYPE_ENTRY (sidebar_entry_get_type ())
#define SIDEBAR_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_ENTRY, SidebarEntry))
#define SIDEBAR_IS_ENTRY(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_ENTRY))
#define SIDEBAR_ENTRY_GET_INTERFACE(obj) (G_TYPE_INSTANCE_GET_INTERFACE ((obj), SIDEBAR_TYPE_ENTRY, SidebarEntryIface))

typedef struct _SidebarEntry SidebarEntry;
typedef struct _SidebarEntryIface SidebarEntryIface;

#define SIDEBAR_TYPE_TREE (sidebar_tree_get_type ())
#define SIDEBAR_TREE(obj) (G_TYPE_CHECK_INSTANCE_CAST ((obj), SIDEBAR_TYPE_TREE, SidebarTree))
#define SIDEBAR_TREE_CLASS(klass) (G_TYPE_CHECK_CLASS_CAST ((klass), SIDEBAR_TYPE_TREE, SidebarTreeClass))
#define SIDEBAR_IS_TREE(obj) (G_TYPE_CHECK_INSTANCE_TYPE ((obj), SIDEBAR_TYPE_TREE))
#define SIDEBAR_IS_TREE_CLASS(klass) (G_TYPE_CHECK_CLASS_TYPE ((klass), SIDEBAR_TYPE_TREE))
#define SIDEBAR_TREE_GET_CLASS(obj) (G_TYPE_INSTANCE_GET_CLASS ((obj), SIDEBAR_TYPE_TREE, SidebarTreeClass))

typedef struct _SidebarTree SidebarTree;
typedef struct _SidebarTreeClass SidebarTreeClass;
enum  {
	SIDEBAR_BRANCH_0_PROPERTY,
	SIDEBAR_BRANCH_NUM_PROPERTIES
};
static GParamSpec* sidebar_branch_properties[SIDEBAR_BRANCH_NUM_PROPERTIES];
#define _sidebar_branch_node_unref0(var) ((var == NULL) ? NULL : (var = (sidebar_branch_node_unref (var), NULL)))
#define _g_object_unref0(var) ((var == NULL) ? NULL : (var = (g_object_unref (var), NULL)))
typedef struct _SidebarBranchNodePrivate SidebarBranchNodePrivate;
typedef struct _SidebarBranchParamSpecNode SidebarBranchParamSpecNode;
enum  {
	SIDEBAR_BRANCH_ENTRY_ADDED_SIGNAL,
	SIDEBAR_BRANCH_ENTRY_REMOVED_SIGNAL,
	SIDEBAR_BRANCH_ENTRY_MOVED_SIGNAL,
	SIDEBAR_BRANCH_ENTRY_REPARENTED_SIGNAL,
	SIDEBAR_BRANCH_CHILDREN_REORDERED_SIGNAL,
	SIDEBAR_BRANCH_SHOW_BRANCH_SIGNAL,
	SIDEBAR_BRANCH_NUM_SIGNALS
};
static guint sidebar_branch_signals[SIDEBAR_BRANCH_NUM_SIGNALS] = {0};
#define _vala_assert(expr, msg) if G_LIKELY (expr) ; else g_assertion_message_expr (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);
#define _vala_return_if_fail(expr, msg) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return; }
#define _vala_return_val_if_fail(expr, msg, val) if G_LIKELY (expr) ; else { g_return_if_fail_warning (G_LOG_DOMAIN, G_STRFUNC, msg); return val; }
#define _vala_warn_if_fail(expr, msg) if G_LIKELY (expr) ; else g_warn_message (G_LOG_DOMAIN, __FILE__, __LINE__, G_STRFUNC, msg);

typedef gboolean (*Locator) (gconstpointer item, void* user_data);
struct _SidebarBranch {
	GObject parent_instance;
	SidebarBranchPrivate * priv;
};

struct _SidebarBranchClass {
	GObjectClass parent_class;
};

typedef enum  {
	SIDEBAR_BRANCH_OPTIONS_NONE = 0,
	SIDEBAR_BRANCH_OPTIONS_HIDE_IF_EMPTY = 1 << 0,
	SIDEBAR_BRANCH_OPTIONS_AUTO_OPEN_ON_NEW_CHILD = 1 << 1,
	SIDEBAR_BRANCH_OPTIONS_STARTUP_EXPAND_TO_FIRST_CHILD = 1 << 2,
	SIDEBAR_BRANCH_OPTIONS_STARTUP_OPEN_GROUPING = 1 << 3
} SidebarBranchOptions;

struct _SidebarEntryIface {
	GTypeInterface parent_iface;
	gchar* (*get_sidebar_name) (SidebarEntry* self);
	gchar* (*get_sidebar_tooltip) (SidebarEntry* self);
	gchar* (*get_sidebar_icon) (SidebarEntry* self);
	gchar* (*to_string) (SidebarEntry* self);
	void (*grafted) (SidebarEntry* self, SidebarTree* tree);
	void (*pruned) (SidebarEntry* self, SidebarTree* tree);
};

struct _SidebarBranchPrivate {
	SidebarBranchNode* root;
	SidebarBranchOptions options;
	gboolean shown;
	GCompareFunc default_comparator;
	GeeHashMap* map;
};

struct _SidebarBranchNode {
	GTypeInstance parent_instance;
	volatile int ref_count;
	SidebarBranchNodePrivate * priv;
	SidebarEntry* entry;
	SidebarBranchNode* parent;
	GCompareFunc comparator;
	GeeSortedSet* children;
};

struct _SidebarBranchNodeClass {
	GTypeClass parent_class;
	void (*finalize) (SidebarBranchNode *self);
};

typedef void (*SidebarBranchNodePruneCallback) (SidebarBranchNode* node, void* user_data);
typedef void (*SidebarBranchNodeChildrenReorderedCallback) (SidebarBranchNode* node, void* user_data);
struct _SidebarBranchParamSpecNode {
	GParamSpec parent_instance;
};


static gpointer sidebar_branch_parent_class = NULL;
static gpointer sidebar_branch_node_parent_class = NULL;

GType sidebar_branch_get_type (void) G_GNUC_CONST;
static gpointer sidebar_branch_node_ref (gpointer instance);
static void sidebar_branch_node_unref (gpointer instance);
static GParamSpec* sidebar_branch_param_spec_node (const gchar* name,
                                            const gchar* nick,
                                            const gchar* blurb,
                                            GType object_type,
                                            GParamFlags flags) G_GNUC_UNUSED;
static void sidebar_branch_value_set_node (GValue* value,
                                    gpointer v_object) G_GNUC_UNUSED;
static void sidebar_branch_value_take_node (GValue* value,
                                     gpointer v_object) G_GNUC_UNUSED;
static gpointer sidebar_branch_value_get_node (const GValue* value) G_GNUC_UNUSED;
static GType sidebar_branch_node_get_type (void) G_GNUC_CONST G_GNUC_UNUSED;
GType sidebar_branch_options_get_type (void) G_GNUC_CONST;
GType sidebar_tree_get_type (void) G_GNUC_CONST;
GType sidebar_entry_get_type (void) G_GNUC_CONST;
#define SIDEBAR_BRANCH_GET_PRIVATE(o) (G_TYPE_INSTANCE_GET_PRIVATE ((o), SIDEBAR_TYPE_BRANCH, SidebarBranchPrivate))
gboolean sidebar_branch_options_is_hide_if_empty (SidebarBranchOptions self);
gboolean sidebar_branch_options_is_auto_open_on_new_child (SidebarBranchOptions self);
gboolean sidebar_branch_options_is_startup_expand_to_first_child (SidebarBranchOptions self);
gboolean sidebar_branch_options_is_startup_open_grouping (SidebarBranchOptions self);
SidebarBranch* sidebar_branch_new (SidebarEntry* root,
                                   SidebarBranchOptions options,
                                   GCompareFunc default_comparator,
                                   GCompareFunc root_comparator);
SidebarBranch* sidebar_branch_construct (GType object_type,
                                         SidebarEntry* root,
                                         SidebarBranchOptions options,
                                         GCompareFunc default_comparator,
                                         GCompareFunc root_comparator);
static SidebarBranchNode* sidebar_branch_node_new (SidebarEntry* entry,
                                            SidebarBranchNode* parent,
                                            GCompareFunc comparator);
static SidebarBranchNode* sidebar_branch_node_construct (GType object_type,
                                                  SidebarEntry* entry,
                                                  SidebarBranchNode* parent,
                                                  GCompareFunc comparator);
void sidebar_branch_set_show_branch (SidebarBranch* self,
                                     gboolean shown);
SidebarEntry* sidebar_branch_get_root (SidebarBranch* self);
gboolean sidebar_branch_get_show_branch (SidebarBranch* self);
gboolean sidebar_branch_is_auto_open_on_new_child (SidebarBranch* self);
gboolean sidebar_branch_is_startup_expand_to_first_child (SidebarBranch* self);
gboolean sidebar_branch_is_startup_open_grouping (SidebarBranch* self);
void sidebar_branch_graft (SidebarBranch* self,
                           SidebarEntry* parent,
                           SidebarEntry* entry,
                           GCompareFunc comparator);
static void sidebar_branch_node_add_child (SidebarBranchNode* self,
                                    SidebarBranchNode* child);
void sidebar_branch_prune (SidebarBranch* self,
                           SidebarEntry* entry);
static void sidebar_branch_node_prune_children (SidebarBranchNode* self,
                                         SidebarBranchNodePruneCallback cb,
                                         void* cb_target);
static void sidebar_branch_prune_callback (SidebarBranch* self,
                                    SidebarBranchNode* node);
static void _sidebar_branch_prune_callback_sidebar_branch_node_prune_callback (SidebarBranchNode* node,
                                                                        gpointer self);
static void sidebar_branch_node_remove_child (SidebarBranchNode* self,
                                       SidebarBranchNode* child);
static gboolean sidebar_branch_node_has_children (SidebarBranchNode* self);
void sidebar_branch_reparent (SidebarBranch* self,
                              SidebarEntry* new_parent,
                              SidebarEntry* entry);
gboolean sidebar_branch_has_entry (SidebarBranch* self,
                                   SidebarEntry* entry);
void sidebar_branch_reorder (SidebarBranch* self,
                             SidebarEntry* entry);
static gboolean sidebar_branch_node_reorder_child (SidebarBranchNode* self,
                                            SidebarBranchNode* child);
void sidebar_branch_reorder_all (SidebarBranch* self);
static void sidebar_branch_node_reorder_children (SidebarBranchNode* self,
                                           gboolean recursive,
                                           SidebarBranchNodeChildrenReorderedCallback cb,
                                           void* cb_target);
static void sidebar_branch_children_reordered_callback (SidebarBranch* self,
                                                 SidebarBranchNode* node);
static void _sidebar_branch_children_reordered_callback_sidebar_branch_node_children_reordered_callback (SidebarBranchNode* node,
                                                                                                  gpointer self);
void sidebar_branch_reorder_children (SidebarBranch* self,
                                      SidebarEntry* entry,
                                      gboolean recursive);
void sidebar_branch_change_all_comparators (SidebarBranch* self,
                                            GCompareFunc comparator);
static void sidebar_branch_node_change_comparator (SidebarBranchNode* self,
                                            GCompareFunc comparator,
                                            gboolean recursive,
                                            SidebarBranchNodeChildrenReorderedCallback cb,
                                            void* cb_target);
void sidebar_branch_change_comparator (SidebarBranch* self,
                                       SidebarEntry* entry,
                                       gboolean recursive,
                                       GCompareFunc comparator);
gint sidebar_branch_get_child_count (SidebarBranch* self,
                                     SidebarEntry* parent);
GeeList* sidebar_branch_get_children (SidebarBranch* self,
                                      SidebarEntry* parent);
SidebarEntry* sidebar_branch_find_first_child (SidebarBranch* self,
                                               SidebarEntry* parent,
                                               Locator locator,
                                               void* locator_target);
SidebarEntry* sidebar_branch_get_parent (SidebarBranch* self,
                                         SidebarEntry* entry);
SidebarEntry* sidebar_branch_get_previous_sibling (SidebarBranch* self,
                                                   SidebarEntry* entry);
SidebarEntry* sidebar_branch_get_next_sibling (SidebarBranch* self,
                                               SidebarEntry* entry);
static void g_cclosure_user_marshal_VOID__OBJECT_OBJECT (GClosure * closure,
                                                  GValue * return_value,
                                                  guint n_param_values,
                                                  const GValue * param_values,
                                                  gpointer invocation_hint,
                                                  gpointer marshal_data);
static gint sidebar_branch_node_comparator_wrapper (SidebarBranchNode* anode,
                                             SidebarBranchNode* bnode);
static gint _sidebar_branch_node_comparator_wrapper_gcompare_data_func (gconstpointer a,
                                                                 gconstpointer b,
                                                                 gpointer self);
static gint sidebar_branch_node_index_of_by_reference (SidebarBranchNode* self,
                                                SidebarBranchNode* child);
static void sidebar_branch_node_finalize (SidebarBranchNode * obj);
static void sidebar_branch_finalize (GObject * obj);


gboolean
sidebar_branch_options_is_hide_if_empty (SidebarBranchOptions self)
{
	gboolean result = FALSE;
#line 19 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = (self & SIDEBAR_BRANCH_OPTIONS_HIDE_IF_EMPTY) != 0;
#line 19 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 280 "Branch.c"
}


gboolean
sidebar_branch_options_is_auto_open_on_new_child (SidebarBranchOptions self)
{
	gboolean result = FALSE;
#line 23 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = (self & SIDEBAR_BRANCH_OPTIONS_AUTO_OPEN_ON_NEW_CHILD) != 0;
#line 23 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 292 "Branch.c"
}


gboolean
sidebar_branch_options_is_startup_expand_to_first_child (SidebarBranchOptions self)
{
	gboolean result = FALSE;
#line 27 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = (self & SIDEBAR_BRANCH_OPTIONS_STARTUP_EXPAND_TO_FIRST_CHILD) != 0;
#line 27 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 304 "Branch.c"
}


gboolean
sidebar_branch_options_is_startup_open_grouping (SidebarBranchOptions self)
{
	gboolean result = FALSE;
#line 31 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = (self & SIDEBAR_BRANCH_OPTIONS_STARTUP_OPEN_GROUPING) != 0;
#line 31 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 316 "Branch.c"
}


GType
sidebar_branch_options_get_type (void)
{
	static volatile gsize sidebar_branch_options_type_id__volatile = 0;
	if (g_once_init_enter (&sidebar_branch_options_type_id__volatile)) {
		static const GFlagsValue values[] = {{SIDEBAR_BRANCH_OPTIONS_NONE, "SIDEBAR_BRANCH_OPTIONS_NONE", "none"}, {SIDEBAR_BRANCH_OPTIONS_HIDE_IF_EMPTY, "SIDEBAR_BRANCH_OPTIONS_HIDE_IF_EMPTY", "hide-if-empty"}, {SIDEBAR_BRANCH_OPTIONS_AUTO_OPEN_ON_NEW_CHILD, "SIDEBAR_BRANCH_OPTIONS_AUTO_OPEN_ON_NEW_CHILD", "auto-open-on-new-child"}, {SIDEBAR_BRANCH_OPTIONS_STARTUP_EXPAND_TO_FIRST_CHILD, "SIDEBAR_BRANCH_OPTIONS_STARTUP_EXPAND_TO_FIRST_CHILD", "startup-expand-to-first-child"}, {SIDEBAR_BRANCH_OPTIONS_STARTUP_OPEN_GROUPING, "SIDEBAR_BRANCH_OPTIONS_STARTUP_OPEN_GROUPING", "startup-open-grouping"}, {0, NULL, NULL}};
		GType sidebar_branch_options_type_id;
		sidebar_branch_options_type_id = g_flags_register_static ("SidebarBranchOptions", values);
		g_once_init_leave (&sidebar_branch_options_type_id__volatile, sidebar_branch_options_type_id);
	}
	return sidebar_branch_options_type_id__volatile;
}


SidebarBranch*
sidebar_branch_construct (GType object_type,
                          SidebarEntry* root,
                          SidebarBranchOptions options,
                          GCompareFunc default_comparator,
                          GCompareFunc root_comparator)
{
	SidebarBranch * self = NULL;
	GCompareFunc _tmp0_ = NULL;
	SidebarBranchNode* _tmp1_;
	GeeHashMap* _tmp2_;
	SidebarBranchNode* _tmp3_;
#line 206 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (root), NULL);
#line 206 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self = (SidebarBranch*) g_object_new (object_type, NULL);
#line 208 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->priv->default_comparator = default_comparator;
#line 210 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (root_comparator != NULL) {
#line 210 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp0_ = root_comparator;
#line 356 "Branch.c"
	} else {
#line 210 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp0_ = default_comparator;
#line 360 "Branch.c"
	}
#line 209 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = sidebar_branch_node_new (root, NULL, _tmp0_);
#line 209 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (self->priv->root);
#line 209 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->priv->root = _tmp1_;
#line 211 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->priv->options = options;
#line 213 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = self->priv->map;
#line 213 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = self->priv->root;
#line 213 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	gee_abstract_map_set (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), root, _tmp3_);
#line 215 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (sidebar_branch_options_is_hide_if_empty (options)) {
#line 216 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		sidebar_branch_set_show_branch (self, FALSE);
#line 380 "Branch.c"
	}
#line 206 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return self;
#line 384 "Branch.c"
}


SidebarBranch*
sidebar_branch_new (SidebarEntry* root,
                    SidebarBranchOptions options,
                    GCompareFunc default_comparator,
                    GCompareFunc root_comparator)
{
#line 206 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return sidebar_branch_construct (SIDEBAR_TYPE_BRANCH, root, options, default_comparator, root_comparator);
#line 396 "Branch.c"
}


static gpointer
_g_object_ref0 (gpointer self)
{
#line 220 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return self ? g_object_ref (self) : NULL;
#line 405 "Branch.c"
}


SidebarEntry*
sidebar_branch_get_root (SidebarBranch* self)
{
	SidebarEntry* result = NULL;
	SidebarBranchNode* _tmp0_;
	SidebarEntry* _tmp1_;
	SidebarEntry* _tmp2_;
#line 219 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), NULL);
#line 220 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->root;
#line 220 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = _tmp0_->entry;
#line 220 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = _g_object_ref0 (_tmp1_);
#line 220 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = _tmp2_;
#line 220 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 428 "Branch.c"
}


void
sidebar_branch_set_show_branch (SidebarBranch* self,
                                gboolean shown)
{
	gboolean _tmp0_;
#line 223 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 224 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->shown;
#line 224 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp0_ == shown) {
#line 225 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return;
#line 445 "Branch.c"
	}
#line 227 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->priv->shown = shown;
#line 228 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_signal_emit (self, sidebar_branch_signals[SIDEBAR_BRANCH_SHOW_BRANCH_SIGNAL], 0, shown);
#line 451 "Branch.c"
}


gboolean
sidebar_branch_get_show_branch (SidebarBranch* self)
{
	gboolean result = FALSE;
	gboolean _tmp0_;
#line 231 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), FALSE);
#line 232 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->shown;
#line 232 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = _tmp0_;
#line 232 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 468 "Branch.c"
}


gboolean
sidebar_branch_is_auto_open_on_new_child (SidebarBranch* self)
{
	gboolean result = FALSE;
	SidebarBranchOptions _tmp0_;
#line 235 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), FALSE);
#line 236 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->options;
#line 236 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = sidebar_branch_options_is_auto_open_on_new_child (_tmp0_);
#line 236 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 485 "Branch.c"
}


gboolean
sidebar_branch_is_startup_expand_to_first_child (SidebarBranch* self)
{
	gboolean result = FALSE;
	SidebarBranchOptions _tmp0_;
#line 239 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), FALSE);
#line 240 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->options;
#line 240 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = sidebar_branch_options_is_startup_expand_to_first_child (_tmp0_);
#line 240 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 502 "Branch.c"
}


gboolean
sidebar_branch_is_startup_open_grouping (SidebarBranch* self)
{
	gboolean result = FALSE;
	SidebarBranchOptions _tmp0_;
#line 243 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), FALSE);
#line 244 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->options;
#line 244 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = sidebar_branch_options_is_startup_open_grouping (_tmp0_);
#line 244 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 519 "Branch.c"
}


void
sidebar_branch_graft (SidebarBranch* self,
                      SidebarEntry* parent,
                      SidebarEntry* entry,
                      GCompareFunc comparator)
{
	GeeHashMap* _tmp0_;
	GeeHashMap* _tmp1_;
	SidebarBranchOptions _tmp2_;
	SidebarBranchNode* parent_node = NULL;
	GeeHashMap* _tmp3_;
	gpointer _tmp4_;
	GCompareFunc _tmp5_ = NULL;
	SidebarBranchNode* entry_node = NULL;
	SidebarBranchNode* _tmp7_;
	SidebarBranchNode* _tmp8_;
	SidebarBranchNode* _tmp9_;
	GeeHashMap* _tmp10_;
#line 247 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 247 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (parent));
#line 247 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 249 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->map;
#line 249 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), parent), "map.has_key(parent)");
#line 250 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = self->priv->map;
#line 250 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (!gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry), "!map.has_key(entry)");
#line 252 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = self->priv->options;
#line 252 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (sidebar_branch_options_is_hide_if_empty (_tmp2_)) {
#line 253 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		sidebar_branch_set_show_branch (self, TRUE);
#line 561 "Branch.c"
	}
#line 255 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = self->priv->map;
#line 255 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), parent);
#line 255 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	parent_node = (SidebarBranchNode*) _tmp4_;
#line 257 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (comparator != NULL) {
#line 257 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp5_ = comparator;
#line 573 "Branch.c"
	} else {
		GCompareFunc _tmp6_;
#line 257 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp6_ = self->priv->default_comparator;
#line 257 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp5_ = _tmp6_;
#line 580 "Branch.c"
	}
#line 256 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp7_ = parent_node;
#line 256 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp8_ = sidebar_branch_node_new (entry, _tmp7_, _tmp5_);
#line 256 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	entry_node = _tmp8_;
#line 259 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp9_ = parent_node;
#line 259 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_add_child (_tmp9_, entry_node);
#line 260 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp10_ = self->priv->map;
#line 260 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	gee_abstract_map_set (G_TYPE_CHECK_INSTANCE_CAST (_tmp10_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry, entry_node);
#line 262 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_signal_emit (self, sidebar_branch_signals[SIDEBAR_BRANCH_ENTRY_ADDED_SIGNAL], 0, entry);
#line 247 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (entry_node);
#line 247 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (parent_node);
#line 602 "Branch.c"
}


static void
_sidebar_branch_prune_callback_sidebar_branch_node_prune_callback (SidebarBranchNode* node,
                                                                   gpointer self)
{
#line 272 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_prune_callback ((SidebarBranch*) self, node);
#line 612 "Branch.c"
}


void
sidebar_branch_prune (SidebarBranch* self,
                      SidebarEntry* entry)
{
	SidebarBranchNode* _tmp0_;
	SidebarEntry* _tmp1_;
	GeeHashMap* _tmp2_;
	SidebarBranchNode* entry_node = NULL;
	GeeHashMap* _tmp3_;
	gpointer _tmp4_;
	SidebarBranchNode* _tmp5_;
	SidebarBranchNode* _tmp6_;
	SidebarBranchNode* _tmp7_;
	SidebarBranchNode* _tmp8_;
	SidebarBranchNode* _tmp9_;
	SidebarBranchNode* _tmp10_;
	gboolean removed = FALSE;
	GeeHashMap* _tmp11_;
	gboolean _tmp12_;
	gboolean _tmp13_;
	gboolean _tmp14_ = FALSE;
	SidebarBranchOptions _tmp15_;
#line 266 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 266 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 267 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->root;
#line 267 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = _tmp0_->entry;
#line 267 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (entry != _tmp1_, "entry != root.entry");
#line 268 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = self->priv->map;
#line 268 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry), "map.has_key(entry)");
#line 270 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = self->priv->map;
#line 270 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry);
#line 270 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	entry_node = (SidebarBranchNode*) _tmp4_;
#line 272 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp5_ = entry_node;
#line 272 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_prune_children (_tmp5_, _sidebar_branch_prune_callback_sidebar_branch_node_prune_callback, self);
#line 274 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp6_ = entry_node;
#line 274 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp7_ = _tmp6_->parent;
#line 274 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp7_ != NULL, "entry_node.parent != null");
#line 275 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp8_ = entry_node;
#line 275 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp9_ = _tmp8_->parent;
#line 275 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp10_ = entry_node;
#line 275 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_remove_child (_tmp9_, _tmp10_);
#line 277 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp11_ = self->priv->map;
#line 277 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp12_ = gee_abstract_map_unset (G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry, NULL);
#line 277 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	removed = _tmp12_;
#line 278 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp13_ = removed;
#line 278 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp13_, "removed");
#line 280 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_signal_emit (self, sidebar_branch_signals[SIDEBAR_BRANCH_ENTRY_REMOVED_SIGNAL], 0, entry);
#line 282 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp15_ = self->priv->options;
#line 282 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (sidebar_branch_options_is_hide_if_empty (_tmp15_)) {
#line 692 "Branch.c"
		SidebarBranchNode* _tmp16_;
#line 282 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp16_ = self->priv->root;
#line 282 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp14_ = !sidebar_branch_node_has_children (_tmp16_);
#line 698 "Branch.c"
	} else {
#line 282 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp14_ = FALSE;
#line 702 "Branch.c"
	}
#line 282 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp14_) {
#line 283 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		sidebar_branch_set_show_branch (self, FALSE);
#line 708 "Branch.c"
	}
#line 266 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (entry_node);
#line 712 "Branch.c"
}


void
sidebar_branch_reparent (SidebarBranch* self,
                         SidebarEntry* new_parent,
                         SidebarEntry* entry)
{
	SidebarBranchNode* _tmp0_;
	SidebarEntry* _tmp1_;
	GeeHashMap* _tmp2_;
	GeeHashMap* _tmp3_;
	SidebarBranchNode* entry_node = NULL;
	GeeHashMap* _tmp4_;
	gpointer _tmp5_;
	SidebarBranchNode* new_parent_node = NULL;
	GeeHashMap* _tmp6_;
	gpointer _tmp7_;
	SidebarBranchNode* _tmp8_;
	SidebarEntry* old_parent = NULL;
	SidebarBranchNode* _tmp9_;
	SidebarEntry* _tmp10_;
	SidebarEntry* _tmp11_;
	SidebarBranchNode* _tmp12_;
#line 287 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 287 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (new_parent));
#line 287 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 288 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->root;
#line 288 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = _tmp0_->entry;
#line 288 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (entry != _tmp1_, "entry != root.entry");
#line 289 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = self->priv->map;
#line 289 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry), "map.has_key(entry)");
#line 290 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = self->priv->map;
#line 290 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), new_parent), "map.has_key(new_parent)");
#line 292 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = self->priv->map;
#line 292 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp5_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp4_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry);
#line 292 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	entry_node = (SidebarBranchNode*) _tmp5_;
#line 293 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp6_ = self->priv->map;
#line 293 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp7_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), new_parent);
#line 293 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	new_parent_node = (SidebarBranchNode*) _tmp7_;
#line 295 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp8_ = entry_node->parent;
#line 295 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp8_ != NULL, "entry_node.parent != null");
#line 296 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp9_ = entry_node->parent;
#line 296 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp10_ = _tmp9_->entry;
#line 296 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp11_ = _g_object_ref0 (_tmp10_);
#line 296 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	old_parent = _tmp11_;
#line 298 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp12_ = entry_node->parent;
#line 298 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_remove_child (_tmp12_, entry_node);
#line 299 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_add_child (new_parent_node, entry_node);
#line 301 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_signal_emit (self, sidebar_branch_signals[SIDEBAR_BRANCH_ENTRY_REPARENTED_SIGNAL], 0, entry, old_parent);
#line 287 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (old_parent);
#line 287 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (new_parent_node);
#line 287 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (entry_node);
#line 795 "Branch.c"
}


gboolean
sidebar_branch_has_entry (SidebarBranch* self,
                          SidebarEntry* entry)
{
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	SidebarBranchNode* _tmp1_;
	SidebarEntry* _tmp2_;
#line 304 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), FALSE);
#line 304 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), FALSE);
#line 305 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = self->priv->root;
#line 305 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = _tmp1_->entry;
#line 305 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp2_ == entry) {
#line 305 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp0_ = TRUE;
#line 819 "Branch.c"
	} else {
		GeeHashMap* _tmp3_;
#line 305 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp3_ = self->priv->map;
#line 305 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp0_ = gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry);
#line 826 "Branch.c"
	}
#line 305 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = _tmp0_;
#line 305 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 832 "Branch.c"
}


void
sidebar_branch_reorder (SidebarBranch* self,
                        SidebarEntry* entry)
{
	SidebarBranchNode* _tmp0_;
	SidebarEntry* _tmp1_;
	SidebarBranchNode* entry_node = NULL;
	GeeHashMap* _tmp2_;
	gpointer _tmp3_;
	SidebarBranchNode* _tmp4_;
	SidebarBranchNode* _tmp5_;
	SidebarBranchNode* _tmp6_;
	SidebarBranchNode* _tmp7_;
	SidebarBranchNode* _tmp8_;
	SidebarBranchNode* _tmp9_;
#line 310 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 310 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 311 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->root;
#line 311 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = _tmp0_->entry;
#line 311 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (entry != _tmp1_, "entry != root.entry");
#line 313 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = self->priv->map;
#line 313 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry);
#line 313 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	entry_node = (SidebarBranchNode*) _tmp3_;
#line 314 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = entry_node;
#line 314 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp4_ != NULL, "entry_node != null");
#line 316 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp5_ = entry_node;
#line 316 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp6_ = _tmp5_->parent;
#line 316 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp6_ != NULL, "entry_node.parent != null");
#line 317 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp7_ = entry_node;
#line 317 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp8_ = _tmp7_->parent;
#line 317 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp9_ = entry_node;
#line 317 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (sidebar_branch_node_reorder_child (_tmp8_, _tmp9_)) {
#line 318 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		g_signal_emit (self, sidebar_branch_signals[SIDEBAR_BRANCH_ENTRY_MOVED_SIGNAL], 0, entry);
#line 887 "Branch.c"
	}
#line 310 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (entry_node);
#line 891 "Branch.c"
}


static void
_sidebar_branch_children_reordered_callback_sidebar_branch_node_children_reordered_callback (SidebarBranchNode* node,
                                                                                             gpointer self)
{
#line 323 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_children_reordered_callback ((SidebarBranch*) self, node);
#line 901 "Branch.c"
}


void
sidebar_branch_reorder_all (SidebarBranch* self)
{
	SidebarBranchNode* _tmp0_;
#line 322 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 323 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->root;
#line 323 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_reorder_children (_tmp0_, TRUE, _sidebar_branch_children_reordered_callback_sidebar_branch_node_children_reordered_callback, self);
#line 915 "Branch.c"
}


void
sidebar_branch_reorder_children (SidebarBranch* self,
                                 SidebarEntry* entry,
                                 gboolean recursive)
{
	SidebarBranchNode* entry_node = NULL;
	GeeHashMap* _tmp0_;
	gpointer _tmp1_;
#line 327 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 327 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 328 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->map;
#line 328 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry);
#line 328 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	entry_node = (SidebarBranchNode*) _tmp1_;
#line 329 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (entry_node != NULL, "entry_node != null");
#line 331 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_reorder_children (entry_node, recursive, _sidebar_branch_children_reordered_callback_sidebar_branch_node_children_reordered_callback, self);
#line 327 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (entry_node);
#line 943 "Branch.c"
}


void
sidebar_branch_change_all_comparators (SidebarBranch* self,
                                       GCompareFunc comparator)
{
	SidebarBranchNode* _tmp0_;
#line 334 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 335 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->root;
#line 335 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_change_comparator (_tmp0_, comparator, TRUE, _sidebar_branch_children_reordered_callback_sidebar_branch_node_children_reordered_callback, self);
#line 958 "Branch.c"
}


void
sidebar_branch_change_comparator (SidebarBranch* self,
                                  SidebarEntry* entry,
                                  gboolean recursive,
                                  GCompareFunc comparator)
{
	SidebarBranchNode* entry_node = NULL;
	GeeHashMap* _tmp0_;
	gpointer _tmp1_;
#line 338 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 338 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_ENTRY (entry));
#line 340 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->map;
#line 340 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry);
#line 340 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	entry_node = (SidebarBranchNode*) _tmp1_;
#line 341 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (entry_node != NULL, "entry_node != null");
#line 343 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_change_comparator (entry_node, comparator, recursive, _sidebar_branch_children_reordered_callback_sidebar_branch_node_children_reordered_callback, self);
#line 338 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (entry_node);
#line 987 "Branch.c"
}


gint
sidebar_branch_get_child_count (SidebarBranch* self,
                                SidebarEntry* parent)
{
	gint result = 0;
	SidebarBranchNode* parent_node = NULL;
	GeeHashMap* _tmp0_;
	gpointer _tmp1_;
	SidebarBranchNode* _tmp2_;
	gint _tmp3_ = 0;
	SidebarBranchNode* _tmp4_;
	GeeSortedSet* _tmp5_;
#line 346 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), 0);
#line 346 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (parent), 0);
#line 347 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->map;
#line 347 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), parent);
#line 347 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	parent_node = (SidebarBranchNode*) _tmp1_;
#line 348 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = parent_node;
#line 348 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp2_ != NULL, "parent_node != null");
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = parent_node;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp5_ = _tmp4_->children;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp5_ != NULL) {
#line 1023 "Branch.c"
		SidebarBranchNode* _tmp6_;
		GeeSortedSet* _tmp7_;
		gint _tmp8_;
		gint _tmp9_;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp6_ = parent_node;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp7_ = _tmp6_->children;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp8_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, GEE_TYPE_COLLECTION, GeeCollection));
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp9_ = _tmp8_;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp3_ = _tmp9_;
#line 1038 "Branch.c"
	} else {
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp3_ = 0;
#line 1042 "Branch.c"
	}
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = _tmp3_;
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (parent_node);
#line 350 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 1050 "Branch.c"
}


GeeList*
sidebar_branch_get_children (SidebarBranch* self,
                             SidebarEntry* parent)
{
	GeeList* result = NULL;
	GeeHashMap* _tmp0_;
	SidebarBranchNode* parent_node = NULL;
	GeeHashMap* _tmp1_;
	gpointer _tmp2_;
	SidebarBranchNode* _tmp3_;
	GeeSortedSet* _tmp4_;
	GeeList* child_entries = NULL;
	GeeArrayList* _tmp5_;
#line 355 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), NULL);
#line 355 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (parent), NULL);
#line 356 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->map;
#line 356 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (gee_abstract_map_has_key (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), parent), "map.has_key(parent)");
#line 358 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = self->priv->map;
#line 358 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), parent);
#line 358 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	parent_node = (SidebarBranchNode*) _tmp2_;
#line 359 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = parent_node;
#line 359 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = _tmp3_->children;
#line 359 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp4_ == NULL) {
#line 360 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		result = NULL;
#line 360 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_sidebar_branch_node_unref0 (parent_node);
#line 360 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return result;
#line 1093 "Branch.c"
	}
#line 362 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp5_ = gee_array_list_new (SIDEBAR_TYPE_ENTRY, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, NULL, NULL, NULL);
#line 362 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	child_entries = G_TYPE_CHECK_INSTANCE_CAST (_tmp5_, GEE_TYPE_LIST, GeeList);
#line 1099 "Branch.c"
	{
		GeeIterator* _child_it = NULL;
		SidebarBranchNode* _tmp6_;
		GeeSortedSet* _tmp7_;
		GeeIterator* _tmp8_;
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp6_ = parent_node;
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp7_ = _tmp6_->children;
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp8_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp7_, GEE_TYPE_ITERABLE, GeeIterable));
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_child_it = _tmp8_;
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		while (TRUE) {
#line 1115 "Branch.c"
			GeeIterator* _tmp9_;
			SidebarBranchNode* child = NULL;
			GeeIterator* _tmp10_;
			gpointer _tmp11_;
			GeeList* _tmp12_;
			SidebarBranchNode* _tmp13_;
			SidebarEntry* _tmp14_;
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp9_ = _child_it;
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			if (!gee_iterator_next (_tmp9_)) {
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				break;
#line 1129 "Branch.c"
			}
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp10_ = _child_it;
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp11_ = gee_iterator_get (_tmp10_);
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			child = (SidebarBranchNode*) _tmp11_;
#line 364 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp12_ = child_entries;
#line 364 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp13_ = child;
#line 364 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp14_ = _tmp13_->entry;
#line 364 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp12_, GEE_TYPE_COLLECTION, GeeCollection), _tmp14_);
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_sidebar_branch_node_unref0 (child);
#line 1147 "Branch.c"
		}
#line 363 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_g_object_unref0 (_child_it);
#line 1151 "Branch.c"
	}
#line 366 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = child_entries;
#line 366 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (parent_node);
#line 366 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 1159 "Branch.c"
}


SidebarEntry*
sidebar_branch_find_first_child (SidebarBranch* self,
                                 SidebarEntry* parent,
                                 Locator locator,
                                 void* locator_target)
{
	SidebarEntry* result = NULL;
	SidebarBranchNode* parent_node = NULL;
	GeeHashMap* _tmp0_;
	gpointer _tmp1_;
	SidebarBranchNode* _tmp2_;
	SidebarBranchNode* _tmp3_;
	GeeSortedSet* _tmp4_;
#line 369 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), NULL);
#line 369 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (parent), NULL);
#line 370 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->map;
#line 370 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), parent);
#line 370 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	parent_node = (SidebarBranchNode*) _tmp1_;
#line 371 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = parent_node;
#line 371 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp2_ != NULL, "parent_node != null");
#line 373 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = parent_node;
#line 373 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = _tmp3_->children;
#line 373 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp4_ == NULL) {
#line 374 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		result = NULL;
#line 374 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_sidebar_branch_node_unref0 (parent_node);
#line 374 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return result;
#line 1202 "Branch.c"
	}
	{
		GeeIterator* _child_it = NULL;
		SidebarBranchNode* _tmp5_;
		GeeSortedSet* _tmp6_;
		GeeIterator* _tmp7_;
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp5_ = parent_node;
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp6_ = _tmp5_->children;
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp7_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GEE_TYPE_ITERABLE, GeeIterable));
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_child_it = _tmp7_;
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		while (TRUE) {
#line 1219 "Branch.c"
			GeeIterator* _tmp8_;
			SidebarBranchNode* child = NULL;
			GeeIterator* _tmp9_;
			gpointer _tmp10_;
			SidebarBranchNode* _tmp11_;
			SidebarEntry* _tmp12_;
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp8_ = _child_it;
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			if (!gee_iterator_next (_tmp8_)) {
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				break;
#line 1232 "Branch.c"
			}
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp9_ = _child_it;
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp10_ = gee_iterator_get (_tmp9_);
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			child = (SidebarBranchNode*) _tmp10_;
#line 377 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp11_ = child;
#line 377 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp12_ = _tmp11_->entry;
#line 377 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			if (locator (_tmp12_, locator_target)) {
#line 1246 "Branch.c"
				SidebarBranchNode* _tmp13_;
				SidebarEntry* _tmp14_;
				SidebarEntry* _tmp15_;
#line 378 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp13_ = child;
#line 378 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp14_ = _tmp13_->entry;
#line 378 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp15_ = _g_object_ref0 (_tmp14_);
#line 378 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				result = _tmp15_;
#line 378 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_sidebar_branch_node_unref0 (child);
#line 378 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_g_object_unref0 (_child_it);
#line 378 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_sidebar_branch_node_unref0 (parent_node);
#line 378 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				return result;
#line 1266 "Branch.c"
			}
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_sidebar_branch_node_unref0 (child);
#line 1270 "Branch.c"
		}
#line 376 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_g_object_unref0 (_child_it);
#line 1274 "Branch.c"
	}
#line 381 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = NULL;
#line 381 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (parent_node);
#line 381 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 1282 "Branch.c"
}


SidebarEntry*
sidebar_branch_get_parent (SidebarBranch* self,
                           SidebarEntry* entry)
{
	SidebarEntry* result = NULL;
	SidebarBranchNode* _tmp0_;
	SidebarEntry* _tmp1_;
	SidebarBranchNode* entry_node = NULL;
	GeeHashMap* _tmp2_;
	gpointer _tmp3_;
	SidebarBranchNode* _tmp4_;
	SidebarBranchNode* _tmp5_;
	SidebarBranchNode* _tmp6_;
	SidebarBranchNode* _tmp7_;
	SidebarBranchNode* _tmp8_;
	SidebarEntry* _tmp9_;
	SidebarEntry* _tmp10_;
#line 385 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), NULL);
#line 385 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), NULL);
#line 386 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->root;
#line 386 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = _tmp0_->entry;
#line 386 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (entry == _tmp1_) {
#line 387 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		result = NULL;
#line 387 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return result;
#line 1317 "Branch.c"
	}
#line 389 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = self->priv->map;
#line 389 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry);
#line 389 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	entry_node = (SidebarBranchNode*) _tmp3_;
#line 390 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = entry_node;
#line 390 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp4_ != NULL, "entry_node != null");
#line 391 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp5_ = entry_node;
#line 391 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp6_ = _tmp5_->parent;
#line 391 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp6_ != NULL, "entry_node.parent != null");
#line 393 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp7_ = entry_node;
#line 393 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp8_ = _tmp7_->parent;
#line 393 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp9_ = _tmp8_->entry;
#line 393 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp10_ = _g_object_ref0 (_tmp9_);
#line 393 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = _tmp10_;
#line 393 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (entry_node);
#line 393 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 1349 "Branch.c"
}


SidebarEntry*
sidebar_branch_get_previous_sibling (SidebarBranch* self,
                                     SidebarEntry* entry)
{
	SidebarEntry* result = NULL;
	SidebarBranchNode* _tmp0_;
	SidebarEntry* _tmp1_;
	SidebarBranchNode* entry_node = NULL;
	GeeHashMap* _tmp2_;
	gpointer _tmp3_;
	SidebarBranchNode* _tmp4_;
	SidebarBranchNode* _tmp5_;
	SidebarBranchNode* _tmp6_;
	SidebarBranchNode* _tmp7_;
	SidebarBranchNode* _tmp8_;
	GeeSortedSet* _tmp9_;
	SidebarBranchNode* sibling = NULL;
	SidebarBranchNode* _tmp10_;
	SidebarBranchNode* _tmp11_;
	GeeSortedSet* _tmp12_;
	SidebarBranchNode* _tmp13_;
	gpointer _tmp14_;
	SidebarEntry* _tmp15_ = NULL;
	SidebarBranchNode* _tmp16_;
	SidebarEntry* _tmp19_;
#line 397 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), NULL);
#line 397 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), NULL);
#line 398 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->root;
#line 398 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = _tmp0_->entry;
#line 398 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (entry == _tmp1_) {
#line 399 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		result = NULL;
#line 399 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return result;
#line 1392 "Branch.c"
	}
#line 401 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = self->priv->map;
#line 401 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry);
#line 401 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	entry_node = (SidebarBranchNode*) _tmp3_;
#line 402 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = entry_node;
#line 402 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp4_ != NULL, "entry_node != null");
#line 403 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp5_ = entry_node;
#line 403 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp6_ = _tmp5_->parent;
#line 403 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp6_ != NULL, "entry_node.parent != null");
#line 404 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp7_ = entry_node;
#line 404 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp8_ = _tmp7_->parent;
#line 404 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp9_ = _tmp8_->children;
#line 404 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp9_ != NULL, "entry_node.parent.children != null");
#line 406 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp10_ = entry_node;
#line 406 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp11_ = _tmp10_->parent;
#line 406 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp12_ = _tmp11_->children;
#line 406 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp13_ = entry_node;
#line 406 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp14_ = gee_sorted_set_lower (_tmp12_, _tmp13_);
#line 406 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sibling = (SidebarBranchNode*) _tmp14_;
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp16_ = sibling;
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp16_ != NULL) {
#line 1434 "Branch.c"
		SidebarBranchNode* _tmp17_;
		SidebarEntry* _tmp18_;
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp17_ = sibling;
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp18_ = _tmp17_->entry;
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp15_ = _tmp18_;
#line 1443 "Branch.c"
	} else {
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp15_ = NULL;
#line 1447 "Branch.c"
	}
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp19_ = _g_object_ref0 (_tmp15_);
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = _tmp19_;
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (sibling);
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (entry_node);
#line 408 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 1459 "Branch.c"
}


SidebarEntry*
sidebar_branch_get_next_sibling (SidebarBranch* self,
                                 SidebarEntry* entry)
{
	SidebarEntry* result = NULL;
	SidebarBranchNode* _tmp0_;
	SidebarEntry* _tmp1_;
	SidebarBranchNode* entry_node = NULL;
	GeeHashMap* _tmp2_;
	gpointer _tmp3_;
	SidebarBranchNode* _tmp4_;
	SidebarBranchNode* _tmp5_;
	SidebarBranchNode* _tmp6_;
	SidebarBranchNode* _tmp7_;
	SidebarBranchNode* _tmp8_;
	GeeSortedSet* _tmp9_;
	SidebarBranchNode* sibling = NULL;
	SidebarBranchNode* _tmp10_;
	SidebarBranchNode* _tmp11_;
	GeeSortedSet* _tmp12_;
	SidebarBranchNode* _tmp13_;
	gpointer _tmp14_;
	SidebarEntry* _tmp15_ = NULL;
	SidebarBranchNode* _tmp16_;
	SidebarEntry* _tmp19_;
#line 412 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_BRANCH (self), NULL);
#line 412 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), NULL);
#line 413 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->priv->root;
#line 413 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = _tmp0_->entry;
#line 413 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (entry == _tmp1_) {
#line 414 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		result = NULL;
#line 414 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return result;
#line 1502 "Branch.c"
	}
#line 416 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = self->priv->map;
#line 416 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = gee_abstract_map_get (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_ABSTRACT_MAP, GeeAbstractMap), entry);
#line 416 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	entry_node = (SidebarBranchNode*) _tmp3_;
#line 417 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = entry_node;
#line 417 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp4_ != NULL, "entry_node != null");
#line 418 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp5_ = entry_node;
#line 418 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp6_ = _tmp5_->parent;
#line 418 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp6_ != NULL, "entry_node.parent != null");
#line 419 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp7_ = entry_node;
#line 419 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp8_ = _tmp7_->parent;
#line 419 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp9_ = _tmp8_->children;
#line 419 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp9_ != NULL, "entry_node.parent.children != null");
#line 421 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp10_ = entry_node;
#line 421 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp11_ = _tmp10_->parent;
#line 421 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp12_ = _tmp11_->children;
#line 421 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp13_ = entry_node;
#line 421 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp14_ = gee_sorted_set_higher (_tmp12_, _tmp13_);
#line 421 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sibling = (SidebarBranchNode*) _tmp14_;
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp16_ = sibling;
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp16_ != NULL) {
#line 1544 "Branch.c"
		SidebarBranchNode* _tmp17_;
		SidebarEntry* _tmp18_;
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp17_ = sibling;
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp18_ = _tmp17_->entry;
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp15_ = _tmp18_;
#line 1553 "Branch.c"
	} else {
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp15_ = NULL;
#line 1557 "Branch.c"
	}
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp19_ = _g_object_ref0 (_tmp15_);
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = _tmp19_;
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (sibling);
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (entry_node);
#line 423 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 1569 "Branch.c"
}


static void
sidebar_branch_prune_callback (SidebarBranch* self,
                               SidebarBranchNode* node)
{
	SidebarEntry* _tmp0_;
#line 426 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 426 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_BRANCH_IS_NODE (node));
#line 427 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = node->entry;
#line 427 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_signal_emit (self, sidebar_branch_signals[SIDEBAR_BRANCH_ENTRY_REMOVED_SIGNAL], 0, _tmp0_);
#line 1586 "Branch.c"
}


static void
sidebar_branch_children_reordered_callback (SidebarBranch* self,
                                            SidebarBranchNode* node)
{
	SidebarEntry* _tmp0_;
#line 430 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_IS_BRANCH (self));
#line 430 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_BRANCH_IS_NODE (node));
#line 431 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = node->entry;
#line 431 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_signal_emit (self, sidebar_branch_signals[SIDEBAR_BRANCH_CHILDREN_REORDERED_SIGNAL], 0, _tmp0_);
#line 1603 "Branch.c"
}


static void
g_cclosure_user_marshal_VOID__OBJECT_OBJECT (GClosure * closure,
                                             GValue * return_value,
                                             guint n_param_values,
                                             const GValue * param_values,
                                             gpointer invocation_hint,
                                             gpointer marshal_data)
{
	typedef void (*GMarshalFunc_VOID__OBJECT_OBJECT) (gpointer data1, gpointer arg_1, gpointer arg_2, gpointer data2);
	register GMarshalFunc_VOID__OBJECT_OBJECT callback;
	register GCClosure * cc;
	register gpointer data1;
	register gpointer data2;
	cc = (GCClosure *) closure;
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (n_param_values == 3);
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (G_CCLOSURE_SWAP_DATA (closure)) {
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		data1 = closure->data;
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		data2 = param_values->data[0].v_pointer;
#line 1629 "Branch.c"
	} else {
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		data1 = param_values->data[0].v_pointer;
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		data2 = closure->data;
#line 1635 "Branch.c"
	}
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	callback = (GMarshalFunc_VOID__OBJECT_OBJECT) (marshal_data ? marshal_data : cc->callback);
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	callback (data1, g_value_get_object (param_values + 1), g_value_get_object (param_values + 2), data2);
#line 1641 "Branch.c"
}


static SidebarBranchNode*
sidebar_branch_node_construct (GType object_type,
                               SidebarEntry* entry,
                               SidebarBranchNode* parent,
                               GCompareFunc comparator)
{
	SidebarBranchNode* self = NULL;
	SidebarEntry* _tmp0_;
#line 45 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_IS_ENTRY (entry), NULL);
#line 45 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail ((parent == NULL) || SIDEBAR_BRANCH_IS_NODE (parent), NULL);
#line 45 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self = (SidebarBranchNode*) g_type_create_instance (object_type);
#line 46 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = _g_object_ref0 (entry);
#line 46 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (self->entry);
#line 46 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->entry = _tmp0_;
#line 47 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->parent = parent;
#line 48 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->comparator = comparator;
#line 45 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return self;
#line 1671 "Branch.c"
}


static SidebarBranchNode*
sidebar_branch_node_new (SidebarEntry* entry,
                         SidebarBranchNode* parent,
                         GCompareFunc comparator)
{
#line 45 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return sidebar_branch_node_construct (SIDEBAR_BRANCH_TYPE_NODE, entry, parent, comparator);
#line 1682 "Branch.c"
}


static gint
sidebar_branch_node_comparator_wrapper (SidebarBranchNode* anode,
                                        SidebarBranchNode* bnode)
{
	gint result = 0;
	SidebarBranchNode* _tmp0_;
	SidebarBranchNode* _tmp1_;
	SidebarBranchNode* _tmp2_;
	GCompareFunc _tmp3_;
	SidebarEntry* _tmp4_;
	SidebarEntry* _tmp5_;
#line 51 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_BRANCH_IS_NODE (anode), 0);
#line 51 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_BRANCH_IS_NODE (bnode), 0);
#line 52 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (anode == bnode) {
#line 53 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		result = 0;
#line 53 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return result;
#line 1707 "Branch.c"
	}
#line 55 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = anode->parent;
#line 55 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = bnode->parent;
#line 55 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp0_ == _tmp1_, "anode.parent == bnode.parent");
#line 57 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = anode->parent;
#line 57 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = _tmp2_->comparator;
#line 57 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = anode->entry;
#line 57 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp5_ = bnode->entry;
#line 57 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = _tmp3_ (_tmp4_, _tmp5_);
#line 57 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 1727 "Branch.c"
}


static gboolean
sidebar_branch_node_has_children (SidebarBranchNode* self)
{
	gboolean result = FALSE;
	gboolean _tmp0_ = FALSE;
	GeeSortedSet* _tmp1_;
#line 60 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_BRANCH_IS_NODE (self), FALSE);
#line 61 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = self->children;
#line 61 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp1_ != NULL) {
#line 1743 "Branch.c"
		GeeSortedSet* _tmp2_;
		gint _tmp3_;
		gint _tmp4_;
#line 61 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp2_ = self->children;
#line 61 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp3_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_COLLECTION, GeeCollection));
#line 61 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp4_ = _tmp3_;
#line 61 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp0_ = _tmp4_ > 0;
#line 1755 "Branch.c"
	} else {
#line 61 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp0_ = FALSE;
#line 1759 "Branch.c"
	}
#line 61 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = _tmp0_;
#line 61 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 1765 "Branch.c"
}


static gint
_sidebar_branch_node_comparator_wrapper_gcompare_data_func (gconstpointer a,
                                                            gconstpointer b,
                                                            gpointer self)
{
	gint result;
	result = sidebar_branch_node_comparator_wrapper ((SidebarBranchNode*) a, (SidebarBranchNode*) b);
#line 68 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 1778 "Branch.c"
}


static void
sidebar_branch_node_add_child (SidebarBranchNode* self,
                               SidebarBranchNode* child)
{
	GeeSortedSet* _tmp0_;
	gboolean added = FALSE;
	GeeSortedSet* _tmp2_;
#line 64 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_BRANCH_IS_NODE (self));
#line 64 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_BRANCH_IS_NODE (child));
#line 65 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	child->parent = self;
#line 67 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->children;
#line 67 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp0_ == NULL) {
#line 1799 "Branch.c"
		GeeTreeSet* _tmp1_;
#line 68 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp1_ = gee_tree_set_new (SIDEBAR_BRANCH_TYPE_NODE, (GBoxedCopyFunc) sidebar_branch_node_ref, (GDestroyNotify) sidebar_branch_node_unref, _sidebar_branch_node_comparator_wrapper_gcompare_data_func, NULL, NULL);
#line 68 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_g_object_unref0 (self->children);
#line 68 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		self->children = G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_SORTED_SET, GeeSortedSet);
#line 1807 "Branch.c"
	}
#line 70 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = self->children;
#line 70 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	added = gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_COLLECTION, GeeCollection), child);
#line 71 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (added, "added");
#line 1815 "Branch.c"
}


static void
sidebar_branch_node_remove_child (SidebarBranchNode* self,
                                  SidebarBranchNode* child)
{
	GeeSortedSet* _tmp0_;
	GeeSortedSet* new_children = NULL;
	GeeTreeSet* _tmp1_;
	gboolean found = FALSE;
	gboolean _tmp10_;
	GeeSortedSet* _tmp11_;
	gint _tmp12_;
	gint _tmp13_;
#line 74 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_BRANCH_IS_NODE (self));
#line 74 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_BRANCH_IS_NODE (child));
#line 75 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->children;
#line 75 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp0_ != NULL, "children != null");
#line 77 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = gee_tree_set_new (SIDEBAR_BRANCH_TYPE_NODE, (GBoxedCopyFunc) sidebar_branch_node_ref, (GDestroyNotify) sidebar_branch_node_unref, _sidebar_branch_node_comparator_wrapper_gcompare_data_func, NULL, NULL);
#line 77 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	new_children = G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_SORTED_SET, GeeSortedSet);
#line 81 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	found = FALSE;
#line 1845 "Branch.c"
	{
		GeeIterator* _c_it = NULL;
		GeeSortedSet* _tmp2_;
		GeeIterator* _tmp3_;
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp2_ = self->children;
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp3_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_ITERABLE, GeeIterable));
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_c_it = _tmp3_;
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		while (TRUE) {
#line 1858 "Branch.c"
			GeeIterator* _tmp4_;
			SidebarBranchNode* c = NULL;
			GeeIterator* _tmp5_;
			gpointer _tmp6_;
			SidebarBranchNode* _tmp7_;
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp4_ = _c_it;
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			if (!gee_iterator_next (_tmp4_)) {
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				break;
#line 1870 "Branch.c"
			}
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp5_ = _c_it;
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp6_ = gee_iterator_get (_tmp5_);
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			c = (SidebarBranchNode*) _tmp6_;
#line 83 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp7_ = c;
#line 83 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			if (_tmp7_ != child) {
#line 1882 "Branch.c"
				GeeSortedSet* _tmp8_;
				SidebarBranchNode* _tmp9_;
#line 84 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp8_ = new_children;
#line 84 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp9_ = c;
#line 84 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				gee_collection_add (G_TYPE_CHECK_INSTANCE_CAST (_tmp8_, GEE_TYPE_COLLECTION, GeeCollection), _tmp9_);
#line 1891 "Branch.c"
			} else {
#line 86 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				found = TRUE;
#line 1895 "Branch.c"
			}
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_sidebar_branch_node_unref0 (c);
#line 1899 "Branch.c"
		}
#line 82 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_g_object_unref0 (_c_it);
#line 1903 "Branch.c"
	}
#line 89 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp10_ = found;
#line 89 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp10_, "found");
#line 91 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp11_ = new_children;
#line 91 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp12_ = gee_collection_get_size (G_TYPE_CHECK_INSTANCE_CAST (_tmp11_, GEE_TYPE_COLLECTION, GeeCollection));
#line 91 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp13_ = _tmp12_;
#line 91 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp13_ != 0) {
#line 1917 "Branch.c"
		GeeSortedSet* _tmp14_;
		GeeSortedSet* _tmp15_;
#line 92 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp14_ = new_children;
#line 92 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp15_ = _g_object_ref0 (_tmp14_);
#line 92 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_g_object_unref0 (self->children);
#line 92 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		self->children = _tmp15_;
#line 1928 "Branch.c"
	} else {
#line 94 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_g_object_unref0 (self->children);
#line 94 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		self->children = NULL;
#line 1934 "Branch.c"
	}
#line 96 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	child->parent = NULL;
#line 74 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (new_children);
#line 1940 "Branch.c"
}


static void
sidebar_branch_node_prune_children (SidebarBranchNode* self,
                                    SidebarBranchNodePruneCallback cb,
                                    void* cb_target)
{
	GeeSortedSet* _tmp0_;
	GeeSortedSet* old_children = NULL;
	GeeSortedSet* _tmp7_;
	GeeSortedSet* _tmp8_;
#line 99 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_BRANCH_IS_NODE (self));
#line 100 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->children;
#line 100 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp0_ == NULL) {
#line 101 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return;
#line 1961 "Branch.c"
	}
	{
		GeeIterator* _child_it = NULL;
		GeeSortedSet* _tmp1_;
		GeeIterator* _tmp2_;
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp1_ = self->children;
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp2_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_ITERABLE, GeeIterable));
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_child_it = _tmp2_;
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		while (TRUE) {
#line 1975 "Branch.c"
			GeeIterator* _tmp3_;
			SidebarBranchNode* child = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			SidebarBranchNode* _tmp6_;
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp3_ = _child_it;
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			if (!gee_iterator_next (_tmp3_)) {
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				break;
#line 1987 "Branch.c"
			}
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp4_ = _child_it;
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			child = (SidebarBranchNode*) _tmp5_;
#line 104 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp6_ = child;
#line 104 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			sidebar_branch_node_prune_children (_tmp6_, cb, cb_target);
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_sidebar_branch_node_unref0 (child);
#line 2001 "Branch.c"
		}
#line 103 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_g_object_unref0 (_child_it);
#line 2005 "Branch.c"
	}
#line 106 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp7_ = self->children;
#line 106 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp8_ = _g_object_ref0 (_tmp7_);
#line 106 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	old_children = _tmp8_;
#line 107 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (self->children);
#line 107 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->children = NULL;
#line 2017 "Branch.c"
	{
		GeeIterator* _child_it = NULL;
		GeeSortedSet* _tmp9_;
		GeeIterator* _tmp10_;
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp9_ = old_children;
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp10_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp9_, GEE_TYPE_ITERABLE, GeeIterable));
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_child_it = _tmp10_;
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		while (TRUE) {
#line 2030 "Branch.c"
			GeeIterator* _tmp11_;
			SidebarBranchNode* child = NULL;
			GeeIterator* _tmp12_;
			gpointer _tmp13_;
			SidebarBranchNode* _tmp14_;
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp11_ = _child_it;
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			if (!gee_iterator_next (_tmp11_)) {
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				break;
#line 2042 "Branch.c"
			}
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp12_ = _child_it;
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp13_ = gee_iterator_get (_tmp12_);
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			child = (SidebarBranchNode*) _tmp13_;
#line 113 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp14_ = child;
#line 113 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			cb (_tmp14_, cb_target);
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_sidebar_branch_node_unref0 (child);
#line 2056 "Branch.c"
		}
#line 112 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_g_object_unref0 (_child_it);
#line 2060 "Branch.c"
	}
#line 99 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (old_children);
#line 2064 "Branch.c"
}


static gint
sidebar_branch_node_index_of_by_reference (SidebarBranchNode* self,
                                           SidebarBranchNode* child)
{
	gint result = 0;
	GeeSortedSet* _tmp0_;
	gint index = 0;
#line 118 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_BRANCH_IS_NODE (self), 0);
#line 118 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_BRANCH_IS_NODE (child), 0);
#line 119 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->children;
#line 119 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp0_ == NULL) {
#line 120 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		result = -1;
#line 120 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return result;
#line 2087 "Branch.c"
	}
#line 122 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	index = 0;
#line 2091 "Branch.c"
	{
		GeeIterator* _c_it = NULL;
		GeeSortedSet* _tmp1_;
		GeeIterator* _tmp2_;
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp1_ = self->children;
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_tmp2_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_ITERABLE, GeeIterable));
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_c_it = _tmp2_;
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		while (TRUE) {
#line 2104 "Branch.c"
			GeeIterator* _tmp3_;
			SidebarBranchNode* c = NULL;
			GeeIterator* _tmp4_;
			gpointer _tmp5_;
			SidebarBranchNode* _tmp6_;
			gint _tmp7_;
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp3_ = _c_it;
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			if (!gee_iterator_next (_tmp3_)) {
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				break;
#line 2117 "Branch.c"
			}
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp4_ = _c_it;
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp5_ = gee_iterator_get (_tmp4_);
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			c = (SidebarBranchNode*) _tmp5_;
#line 124 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp6_ = c;
#line 124 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			if (child == _tmp6_) {
#line 125 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				result = index;
#line 125 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_sidebar_branch_node_unref0 (c);
#line 125 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_g_object_unref0 (_c_it);
#line 125 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				return result;
#line 2137 "Branch.c"
			}
#line 127 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp7_ = index;
#line 127 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			index = _tmp7_ + 1;
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_sidebar_branch_node_unref0 (c);
#line 2145 "Branch.c"
		}
#line 123 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		_g_object_unref0 (_c_it);
#line 2149 "Branch.c"
	}
#line 130 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = -1;
#line 130 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 2155 "Branch.c"
}


static gboolean
sidebar_branch_node_reorder_child (SidebarBranchNode* self,
                                   SidebarBranchNode* child)
{
	gboolean result = FALSE;
	GeeSortedSet* _tmp0_;
	gint old_index = 0;
	GeeSortedSet* new_children = NULL;
	GeeTreeSet* _tmp1_;
	gboolean added = FALSE;
	GeeSortedSet* _tmp2_;
	GeeSortedSet* _tmp3_;
	gint new_index = 0;
#line 134 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_BRANCH_IS_NODE (self), FALSE);
#line 134 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (SIDEBAR_BRANCH_IS_NODE (child), FALSE);
#line 135 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->children;
#line 135 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (_tmp0_ != NULL, "children != null");
#line 137 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	old_index = sidebar_branch_node_index_of_by_reference (self, child);
#line 138 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (old_index >= 0, "old_index >= 0");
#line 146 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = gee_tree_set_new (SIDEBAR_BRANCH_TYPE_NODE, (GBoxedCopyFunc) sidebar_branch_node_ref, (GDestroyNotify) sidebar_branch_node_unref, _sidebar_branch_node_comparator_wrapper_gcompare_data_func, NULL, NULL);
#line 146 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	new_children = G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_SORTED_SET, GeeSortedSet);
#line 147 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = self->children;
#line 147 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	added = gee_collection_add_all (G_TYPE_CHECK_INSTANCE_CAST (new_children, GEE_TYPE_COLLECTION, GeeCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_COLLECTION, GeeCollection));
#line 148 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (added, "added");
#line 150 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = _g_object_ref0 (new_children);
#line 150 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (self->children);
#line 150 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->children = _tmp3_;
#line 152 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	new_index = sidebar_branch_node_index_of_by_reference (self, child);
#line 153 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_vala_assert (new_index >= 0, "new_index >= 0");
#line 155 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	result = old_index != new_index;
#line 155 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (new_children);
#line 155 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return result;
#line 2210 "Branch.c"
}


static void
sidebar_branch_node_reorder_children (SidebarBranchNode* self,
                                      gboolean recursive,
                                      SidebarBranchNodeChildrenReorderedCallback cb,
                                      void* cb_target)
{
	GeeSortedSet* _tmp0_;
	GeeSortedSet* reordered = NULL;
	GeeTreeSet* _tmp1_;
	GeeSortedSet* _tmp2_;
	GeeSortedSet* _tmp3_;
	GeeSortedSet* _tmp4_;
	GeeSortedSet* _tmp5_;
#line 158 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_BRANCH_IS_NODE (self));
#line 159 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = self->children;
#line 159 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (_tmp0_ == NULL) {
#line 160 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return;
#line 2235 "Branch.c"
	}
#line 162 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp1_ = gee_tree_set_new (SIDEBAR_BRANCH_TYPE_NODE, (GBoxedCopyFunc) sidebar_branch_node_ref, (GDestroyNotify) sidebar_branch_node_unref, _sidebar_branch_node_comparator_wrapper_gcompare_data_func, NULL, NULL);
#line 162 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	reordered = G_TYPE_CHECK_INSTANCE_CAST (_tmp1_, GEE_TYPE_SORTED_SET, GeeSortedSet);
#line 163 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp2_ = reordered;
#line 163 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp3_ = self->children;
#line 163 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	gee_collection_add_all (G_TYPE_CHECK_INSTANCE_CAST (_tmp2_, GEE_TYPE_COLLECTION, GeeCollection), G_TYPE_CHECK_INSTANCE_CAST (_tmp3_, GEE_TYPE_COLLECTION, GeeCollection));
#line 164 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp4_ = reordered;
#line 164 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp5_ = _g_object_ref0 (_tmp4_);
#line 164 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (self->children);
#line 164 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->children = _tmp5_;
#line 166 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (recursive) {
#line 2257 "Branch.c"
		{
			GeeIterator* _child_it = NULL;
			GeeSortedSet* _tmp6_;
			GeeIterator* _tmp7_;
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp6_ = self->children;
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp7_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp6_, GEE_TYPE_ITERABLE, GeeIterable));
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_child_it = _tmp7_;
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			while (TRUE) {
#line 2270 "Branch.c"
				GeeIterator* _tmp8_;
				SidebarBranchNode* child = NULL;
				GeeIterator* _tmp9_;
				gpointer _tmp10_;
				SidebarBranchNode* _tmp11_;
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp8_ = _child_it;
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				if (!gee_iterator_next (_tmp8_)) {
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
					break;
#line 2282 "Branch.c"
				}
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp9_ = _child_it;
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp10_ = gee_iterator_get (_tmp9_);
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				child = (SidebarBranchNode*) _tmp10_;
#line 168 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp11_ = child;
#line 168 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				sidebar_branch_node_reorder_children (_tmp11_, TRUE, cb, cb_target);
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_sidebar_branch_node_unref0 (child);
#line 2296 "Branch.c"
			}
#line 167 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_g_object_unref0 (_child_it);
#line 2300 "Branch.c"
		}
	}
#line 171 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	cb (self, cb_target);
#line 158 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (reordered);
#line 2307 "Branch.c"
}


static void
sidebar_branch_node_change_comparator (SidebarBranchNode* self,
                                       GCompareFunc comparator,
                                       gboolean recursive,
                                       SidebarBranchNodeChildrenReorderedCallback cb,
                                       void* cb_target)
{
#line 174 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (SIDEBAR_BRANCH_IS_NODE (self));
#line 176 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->comparator = comparator;
#line 179 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_reorder_children (self, FALSE, cb, cb_target);
#line 181 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (recursive) {
#line 2326 "Branch.c"
		{
			GeeIterator* _child_it = NULL;
			GeeSortedSet* _tmp0_;
			GeeIterator* _tmp1_;
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp0_ = self->children;
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_tmp1_ = gee_iterable_iterator (G_TYPE_CHECK_INSTANCE_CAST (_tmp0_, GEE_TYPE_ITERABLE, GeeIterable));
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_child_it = _tmp1_;
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			while (TRUE) {
#line 2339 "Branch.c"
				GeeIterator* _tmp2_;
				SidebarBranchNode* child = NULL;
				GeeIterator* _tmp3_;
				gpointer _tmp4_;
				SidebarBranchNode* _tmp5_;
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp2_ = _child_it;
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				if (!gee_iterator_next (_tmp2_)) {
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
					break;
#line 2351 "Branch.c"
				}
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp3_ = _child_it;
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp4_ = gee_iterator_get (_tmp3_);
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				child = (SidebarBranchNode*) _tmp4_;
#line 183 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_tmp5_ = child;
#line 183 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				sidebar_branch_node_change_comparator (_tmp5_, comparator, TRUE, cb, cb_target);
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
				_sidebar_branch_node_unref0 (child);
#line 2365 "Branch.c"
			}
#line 182 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			_g_object_unref0 (_child_it);
#line 2369 "Branch.c"
		}
	}
}


static void
sidebar_branch_value_node_init (GValue* value)
{
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	value->data[0].v_pointer = NULL;
#line 2380 "Branch.c"
}


static void
sidebar_branch_value_node_free_value (GValue* value)
{
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (value->data[0].v_pointer) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		sidebar_branch_node_unref (value->data[0].v_pointer);
#line 2391 "Branch.c"
	}
}


static void
sidebar_branch_value_node_copy_value (const GValue* src_value,
                                      GValue* dest_value)
{
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (src_value->data[0].v_pointer) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		dest_value->data[0].v_pointer = sidebar_branch_node_ref (src_value->data[0].v_pointer);
#line 2404 "Branch.c"
	} else {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		dest_value->data[0].v_pointer = NULL;
#line 2408 "Branch.c"
	}
}


static gpointer
sidebar_branch_value_node_peek_pointer (const GValue* value)
{
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return value->data[0].v_pointer;
#line 2418 "Branch.c"
}


static gchar*
sidebar_branch_value_node_collect_value (GValue* value,
                                         guint n_collect_values,
                                         GTypeCValue* collect_values,
                                         guint collect_flags)
{
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (collect_values[0].v_pointer) {
#line 2430 "Branch.c"
		SidebarBranchNode * object;
		object = collect_values[0].v_pointer;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		if (object->parent_instance.g_class == NULL) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			return g_strconcat ("invalid unclassed object pointer for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 2437 "Branch.c"
		} else if (!g_value_type_compatible (G_TYPE_FROM_INSTANCE (object), G_VALUE_TYPE (value))) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
			return g_strconcat ("invalid object type `", g_type_name (G_TYPE_FROM_INSTANCE (object)), "' for value type `", G_VALUE_TYPE_NAME (value), "'", NULL);
#line 2441 "Branch.c"
		}
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		value->data[0].v_pointer = sidebar_branch_node_ref (object);
#line 2445 "Branch.c"
	} else {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		value->data[0].v_pointer = NULL;
#line 2449 "Branch.c"
	}
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return NULL;
#line 2453 "Branch.c"
}


static gchar*
sidebar_branch_value_node_lcopy_value (const GValue* value,
                                       guint n_collect_values,
                                       GTypeCValue* collect_values,
                                       guint collect_flags)
{
	SidebarBranchNode ** object_p;
	object_p = collect_values[0].v_pointer;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (!object_p) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		return g_strdup_printf ("value location for `%s' passed as NULL", G_VALUE_TYPE_NAME (value));
#line 2469 "Branch.c"
	}
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (!value->data[0].v_pointer) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		*object_p = NULL;
#line 2475 "Branch.c"
	} else if (collect_flags & G_VALUE_NOCOPY_CONTENTS) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		*object_p = value->data[0].v_pointer;
#line 2479 "Branch.c"
	} else {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		*object_p = sidebar_branch_node_ref (value->data[0].v_pointer);
#line 2483 "Branch.c"
	}
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return NULL;
#line 2487 "Branch.c"
}


static GParamSpec*
sidebar_branch_param_spec_node (const gchar* name,
                                const gchar* nick,
                                const gchar* blurb,
                                GType object_type,
                                GParamFlags flags)
{
	SidebarBranchParamSpecNode* spec;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (g_type_is_a (object_type, SIDEBAR_BRANCH_TYPE_NODE), NULL);
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	spec = g_param_spec_internal (G_TYPE_PARAM_OBJECT, name, nick, blurb, flags);
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	G_PARAM_SPEC (spec)->value_type = object_type;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return G_PARAM_SPEC (spec);
#line 2507 "Branch.c"
}


static gpointer
sidebar_branch_value_get_node (const GValue* value)
{
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_val_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, SIDEBAR_BRANCH_TYPE_NODE), NULL);
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return value->data[0].v_pointer;
#line 2518 "Branch.c"
}


static void
sidebar_branch_value_set_node (GValue* value,
                               gpointer v_object)
{
	SidebarBranchNode * old;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, SIDEBAR_BRANCH_TYPE_NODE));
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	old = value->data[0].v_pointer;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (v_object) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, SIDEBAR_BRANCH_TYPE_NODE));
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		value->data[0].v_pointer = v_object;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		sidebar_branch_node_ref (value->data[0].v_pointer);
#line 2541 "Branch.c"
	} else {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		value->data[0].v_pointer = NULL;
#line 2545 "Branch.c"
	}
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (old) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		sidebar_branch_node_unref (old);
#line 2551 "Branch.c"
	}
}


static void
sidebar_branch_value_take_node (GValue* value,
                                gpointer v_object)
{
	SidebarBranchNode * old;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_return_if_fail (G_TYPE_CHECK_VALUE_TYPE (value, SIDEBAR_BRANCH_TYPE_NODE));
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	old = value->data[0].v_pointer;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (v_object) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		g_return_if_fail (G_TYPE_CHECK_INSTANCE_TYPE (v_object, SIDEBAR_BRANCH_TYPE_NODE));
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		g_return_if_fail (g_value_type_compatible (G_TYPE_FROM_INSTANCE (v_object), G_VALUE_TYPE (value)));
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		value->data[0].v_pointer = v_object;
#line 2573 "Branch.c"
	} else {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		value->data[0].v_pointer = NULL;
#line 2577 "Branch.c"
	}
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (old) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		sidebar_branch_node_unref (old);
#line 2583 "Branch.c"
	}
}


static void
sidebar_branch_node_class_init (SidebarBranchNodeClass * klass)
{
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_node_parent_class = g_type_class_peek_parent (klass);
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	((SidebarBranchNodeClass *) klass)->finalize = sidebar_branch_node_finalize;
#line 2595 "Branch.c"
}


static void
sidebar_branch_node_instance_init (SidebarBranchNode * self)
{
#line 43 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->children = NULL;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->ref_count = 1;
#line 2606 "Branch.c"
}


static void
sidebar_branch_node_finalize (SidebarBranchNode * obj)
{
	SidebarBranchNode * self;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SIDEBAR_BRANCH_TYPE_NODE, SidebarBranchNode);
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_signal_handlers_destroy (self);
#line 40 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (self->entry);
#line 43 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (self->children);
#line 2622 "Branch.c"
}


static GType
sidebar_branch_node_get_type (void)
{
	static volatile gsize sidebar_branch_node_type_id__volatile = 0;
	if (g_once_init_enter (&sidebar_branch_node_type_id__volatile)) {
		static const GTypeValueTable g_define_type_value_table = { sidebar_branch_value_node_init, sidebar_branch_value_node_free_value, sidebar_branch_value_node_copy_value, sidebar_branch_value_node_peek_pointer, "p", sidebar_branch_value_node_collect_value, "p", sidebar_branch_value_node_lcopy_value };
		static const GTypeInfo g_define_type_info = { sizeof (SidebarBranchNodeClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) sidebar_branch_node_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SidebarBranchNode), 0, (GInstanceInitFunc) sidebar_branch_node_instance_init, &g_define_type_value_table };
		static const GTypeFundamentalInfo g_define_type_fundamental_info = { (G_TYPE_FLAG_CLASSED | G_TYPE_FLAG_INSTANTIATABLE | G_TYPE_FLAG_DERIVABLE | G_TYPE_FLAG_DEEP_DERIVABLE) };
		GType sidebar_branch_node_type_id;
		sidebar_branch_node_type_id = g_type_register_fundamental (g_type_fundamental_next (), "SidebarBranchNode", &g_define_type_info, &g_define_type_fundamental_info, 0);
		g_once_init_leave (&sidebar_branch_node_type_id__volatile, sidebar_branch_node_type_id);
	}
	return sidebar_branch_node_type_id__volatile;
}


static gpointer
sidebar_branch_node_ref (gpointer instance)
{
	SidebarBranchNode * self;
	self = instance;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_atomic_int_inc (&self->ref_count);
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	return instance;
#line 2651 "Branch.c"
}


static void
sidebar_branch_node_unref (gpointer instance)
{
	SidebarBranchNode * self;
	self = instance;
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	if (g_atomic_int_dec_and_test (&self->ref_count)) {
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		SIDEBAR_BRANCH_NODE_GET_CLASS (self)->finalize (self);
#line 35 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
		g_type_free_instance ((GTypeInstance *) self);
#line 2666 "Branch.c"
	}
}


static void
sidebar_branch_class_init (SidebarBranchClass * klass)
{
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_parent_class = g_type_class_peek_parent (klass);
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	g_type_class_add_private (klass, sizeof (SidebarBranchPrivate));
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	G_OBJECT_CLASS (klass)->finalize = sidebar_branch_finalize;
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_signals[SIDEBAR_BRANCH_ENTRY_ADDED_SIGNAL] = g_signal_new ("entry-added", SIDEBAR_TYPE_BRANCH, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, SIDEBAR_TYPE_ENTRY);
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_signals[SIDEBAR_BRANCH_ENTRY_REMOVED_SIGNAL] = g_signal_new ("entry-removed", SIDEBAR_TYPE_BRANCH, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, SIDEBAR_TYPE_ENTRY);
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_signals[SIDEBAR_BRANCH_ENTRY_MOVED_SIGNAL] = g_signal_new ("entry-moved", SIDEBAR_TYPE_BRANCH, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, SIDEBAR_TYPE_ENTRY);
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_signals[SIDEBAR_BRANCH_ENTRY_REPARENTED_SIGNAL] = g_signal_new ("entry-reparented", SIDEBAR_TYPE_BRANCH, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_user_marshal_VOID__OBJECT_OBJECT, G_TYPE_NONE, 2, SIDEBAR_TYPE_ENTRY, SIDEBAR_TYPE_ENTRY);
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_signals[SIDEBAR_BRANCH_CHILDREN_REORDERED_SIGNAL] = g_signal_new ("children-reordered", SIDEBAR_TYPE_BRANCH, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__OBJECT, G_TYPE_NONE, 1, SIDEBAR_TYPE_ENTRY);
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	sidebar_branch_signals[SIDEBAR_BRANCH_SHOW_BRANCH_SIGNAL] = g_signal_new ("show-branch", SIDEBAR_TYPE_BRANCH, G_SIGNAL_RUN_LAST, 0, NULL, NULL, g_cclosure_marshal_VOID__BOOLEAN, G_TYPE_NONE, 1, G_TYPE_BOOLEAN);
#line 2692 "Branch.c"
}


static void
sidebar_branch_instance_init (SidebarBranch * self)
{
	GeeHashMap* _tmp0_;
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->priv = SIDEBAR_BRANCH_GET_PRIVATE (self);
#line 190 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->priv->shown = TRUE;
#line 192 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_tmp0_ = gee_hash_map_new (SIDEBAR_TYPE_ENTRY, (GBoxedCopyFunc) g_object_ref, (GDestroyNotify) g_object_unref, SIDEBAR_BRANCH_TYPE_NODE, (GBoxedCopyFunc) sidebar_branch_node_ref, (GDestroyNotify) sidebar_branch_node_unref, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL, NULL);
#line 192 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self->priv->map = _tmp0_;
#line 2708 "Branch.c"
}


static void
sidebar_branch_finalize (GObject * obj)
{
	SidebarBranch * self;
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	self = G_TYPE_CHECK_INSTANCE_CAST (obj, SIDEBAR_TYPE_BRANCH, SidebarBranch);
#line 188 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_sidebar_branch_node_unref0 (self->priv->root);
#line 192 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	_g_object_unref0 (self->priv->map);
#line 9 "/home/jens/Source/shotwell/src/sidebar/Branch.vala"
	G_OBJECT_CLASS (sidebar_branch_parent_class)->finalize (obj);
#line 2724 "Branch.c"
}


GType
sidebar_branch_get_type (void)
{
	static volatile gsize sidebar_branch_type_id__volatile = 0;
	if (g_once_init_enter (&sidebar_branch_type_id__volatile)) {
		static const GTypeInfo g_define_type_info = { sizeof (SidebarBranchClass), (GBaseInitFunc) NULL, (GBaseFinalizeFunc) NULL, (GClassInitFunc) sidebar_branch_class_init, (GClassFinalizeFunc) NULL, NULL, sizeof (SidebarBranch), 0, (GInstanceInitFunc) sidebar_branch_instance_init, NULL };
		GType sidebar_branch_type_id;
		sidebar_branch_type_id = g_type_register_static (G_TYPE_OBJECT, "SidebarBranch", &g_define_type_info, 0);
		g_once_init_leave (&sidebar_branch_type_id__volatile, sidebar_branch_type_id);
	}
	return sidebar_branch_type_id__volatile;
}



